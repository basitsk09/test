const convertFlatSc10DataToFormData = (flatData) => {
  const structuredData = generateInitialSchedule10Data();

  rowDefinitionsConfig.forEach((rowDef) => {
    const rowId = rowDef.id;
    const suffix = rowDef.modelSuffix;

    schedule10DataFields.forEach((field) => {
      const flatKey = `${field}${suffix}`;
      if (flatData[flatKey] !== undefined) {
        structuredData[rowId][field] = flatData[flatKey];
      }
    });
  });

  // Handle additional fields like particulars3, particulars4, finyearOne, finyearTwo if needed
  return structuredData;
};


if (data.fileAndDataStatus === 1) {
  const convertedFormData = convertFlatSc10DataToFormData(data.sc10Data);
  setFormData(convertedFormData);
  setFieldsDisabled(true);

  setSnackbar({
    open: true,
    message: data.message || 'Data successfully fetched from IFAMS via SFTP.',
    severity: 'success',
  });
}
useEffect(() => {
  let isMounted = true;

  const fetchData = async () => {
    setIsLoading(true);
    showSnackbar('Loading data...', 'info');
    const payload = { circleCode: user.circleCode, quarterEndDate: user.quarterEndDate };
    try {
      const response = await callApi('/Maker/getSavedDataNineA', payload, 'POST');
      if (!isMounted) return;

      const enriched = response.map((r, i) => ({
        ...initialRow,
        ...r,
        id: r.id || `row-${Date.now()}-${i}`,
      }));
      setRows(enriched);
    } catch (error) {
      if (!isMounted) return;
      setSnackbarMessage('Error loading saved data.');
      setSnackbarOpen(true);
    } finally {
      if (!isMounted) return;
      setIsLoading(false);
    }
  };

  fetchData();

  return () => {
    isMounted = false;
  };
}, []);